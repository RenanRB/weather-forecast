<div class="loading-overlay" *ngIf="isLoading">
  <mat-progress-spinner 
    mode="indeterminate" 
    diameter="50"
    class="loading-spinner">
  </mat-progress-spinner>
</div>

<div class="weather-dashboard">
  <!-- Sidebar Section -->
  <mat-card class="sidebar">
    <mat-card-content>
      <app-shearch-bar (onCitySelected)="handleCitySelection($event)"></app-shearch-bar>
      <div class="divider"></div>
      <app-current-weather [weatherResponse]="weatherResponse" [citySelected]="citySelected"></app-current-weather>
      <div class="divider"></div>
      <app-favorite-cities (onCitySelected)="handleCitySelection($event)"></app-favorite-cities>
    </mat-card-content>
  </mat-card>

  <!-- Main Content Section -->
  <div class="main-content">
    <!-- Weekly Forecast -->
    <div class="week-forecast">
      <div class="week-forecast-header">
        <h3>Week's Forecast</h3>
        <mat-slide-toggle [(ngModel)]="showLastWeek">
          <span>{{ showLastWeek ? 'Showing last week' : 'Showing current week' }}</span>
        </mat-slide-toggle>
      </div>
      <app-weather-forecast [weatherList]="weatherListToShow" [weatherResponse]="weatherResponse"></app-weather-forecast>
    </div>

    <!-- Today's Highlights -->
    <div class="today-highlights">
      <h3>Today's Highlights</h3>
      <app-weather-highlights [weatherResponse]="weatherResponse"></app-weather-highlights>
    </div>
  </div>
</div>
  